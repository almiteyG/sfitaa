<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Design</title>

    <script src="//cdn.rawgit.com/mrdoob/three.js/master/build/three.min.js"></script>
    <script src="https://cdn.rawgit.com/mrdoob/three.js/r85/examples/js/controls/OrbitControls.js"></script>
    <script src="https://cdn.rawgit.com/mrdoob/three.js/r85/examples/js/loaders/GLTF2Loader.js"></script>
    <!-- <script src="three.js"></script>
    <script src="GLTFLoader.js"></script>
    <script src="https://unpkg.com/three@0.87.1/examples/js/controls/OrbitControls.js"></script>
    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" crossorigin="anonymous"></script>     -->
    <style>
        body {
            margin: 0;
        }

        canvas {
            background-image: url("https://i.imgur.com/upWSJlY.jpg");
        }
    </style>
</head>

<body>
    <!-- <canvas id="notice"></canvas> -->
</body>
<script>
    var camera, scene, renderer;
    var geometry, material, mesh;
    var myCanvas = document.getElementById('myCanvas');
    init();
    animate();

    function init() {

        // renderer
        renderer = new THREE.WebGLRenderer();
        renderer.setSize(window.innerWidth, window.innerHeight);
        document.body.appendChild(renderer.domElement);

        // scene
        scene = new THREE.Scene();

        // camera
        camera = new THREE.PerspectiveCamera(60, window.innerWidth / window.innerHeight, 0.1, 10000);
        camera.position.set(-2, 130, 20);

        // controls
        controls = new THREE.OrbitControls(camera);
        // controls.target.set(-2, 100, 70);


        // ambient
        var ambient = new THREE.AmbientLight(0xffffff, 1);
        ambient.position.set(-2, 130, 20);
        scene.add(ambient);

        var loader = new THREE.TextureLoader();
        var backgroundTexture = loader.load('https://i.imgur.com/upWSJlY.jpg');

        scene = new THREE.Scene();
        scene.background = backgroundTexture;


        // light
        var light = new THREE.DirectionalLight(0xffffff, 1);
        light.position.set(-10, 100, 100);
        scene.add(light);
        //Set up shadow properties for the light
        light.shadow.mapSize.width = 512; // default
        light.shadow.mapSize.height = 512; // default
        light.shadow.camera.near = 0.5; // default
        light.shadow.camera.far = 500; // default

        // axes
        scene.add(new THREE.AxisHelper(20));

        var manager = new THREE.LoadingManager();
        manager.onProgress = function (item, loaded, total) {
            console.log(item, loaded, total);
        };

        var loader = new THREE.GLTF2Loader();
        loader.setCrossOrigin('anonymous');

        var scale = 10;
        var url = "./single_board.glb";
        loader.load(url, function (data) {
            gltf = data;
            var object;
            if (gltf.scene !== undefined) {
                object = gltf.scene; // default scene
            } else if (gltf.scenes.length > 0) {
                object = gltf.scenes[0]; // other scene
            }
            object.scale.set(scale, scale, scale);
            var animations = gltf.animations;
            if (animations && animations.length) {
                mixer = new THREE.AnimationMixer(object);
                for (var i = 0; i < animations.length; i++) {
                    var animation = animations[i];
                    mixer.clipAction(animation).play();
                }
            }
            
            scene.add(object);
        });

        controls = new THREE.OrbitControls(camera, renderer.domElement);
        controls.userPan = false;
        controls.userPanSpeed = 0.0;
        controls.maxDistance = 5000.0;
        controls.maxPolarAngle = Math.PI * 0.495;
        controls.autoRotate = true;
        controls.autoRotateSpeed = 0.0;

    }

    function animate() {

        requestAnimationFrame(animate);

        controls.update();

        renderer.render(scene, camera);

    }
</script>

</html>